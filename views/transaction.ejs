<div class="container">
  <h2>Transactions</h2>
  <br>
  <table class="table">
    <thead>
      <tr>
        <th>Description</th>
        <th>Amount</th>
        <th>Category</th>
        <th></th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% transactions.slice(startIndex, endIndex).forEach(function(transaction){ %>
        <tr>
          <td><%= transaction.description %></td>
          <td><%= transaction.amount %></td>
          <td><%= transaction.category %></td>
          <td><a href="/transactions/<%= transaction._id %>/delete" class="btn btn-danger">Delete</a></td>
          <td><a href="/transactions/<%= transaction._id %>/edit" class="btn btn-primary">Edit</a></td>
        </tr>
      <% }) %>
    </tbody>
  </table>
  <nav aria-label="Transactions Pagination">
    <ul class="pagination">
      <% if (currentPage === 1) { %>
        <li class="page-item disabled">
          <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
        </li>
      <% } else { %>
        <li class="page-item">
          <a class="page-link" href="/transactions?page=<%= currentPage - 1 %>" tabindex="-1">Previous</a>
        </li>
      <% } %>
      <% for (let i = 1; i <= totalPages; i++) { %>
        <% if (i === currentPage) { %>
          <li class="page-item active" aria-current="page">
            <span class="page-link"><%= i %><span class="sr-only">(current)</span></span>
          </li>
        <% } else { %>
          <li class="page-item"><a class="page-link" href="/transactions?page=<%= i %>"><%= i %></a></li>
        <% } %>
      <% } %>
      <% if (currentPage === totalPages) { %>
        <li class="page-item disabled">
          <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Next</a>
        </li>
      <% } else { %>
        <li class="page-item">
          <a class="page-link" href="/transactions?page=<%= currentPage + 1 %>">Next</a>
        </li>
      <% } %>
    </ul>
  </nav>
</div>
